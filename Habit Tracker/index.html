<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Habit Tracker</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
  <body class="bg-gray-100">
    <h1 class="text-center text-3xl font-bold mt-10">📝Habit Tracker</h1>
    <div class="container flex flex-col justify-center items-center mt-4">
      <input type="text" class="pl-3 w-[450px] border border-gray-300 rounded py-2" placeholder="Add a new habit" id="GetTasks">
      <button class="text-white bg-blue-500 w-[450px] rounded mt-3 py-2" id="addHabits" >Add Habit</button>
      <ul id="myLists">

      </ul>
    </div>
    
    <script>
  const GetTasks = document.getElementById("GetTasks");
  const addHabit = document.getElementById("addHabits");
  const myLists = document.getElementById("myLists");

  let habits = JSON.parse(localStorage.getItem("habits")) || [];

  function saveHabits() {
    localStorage.setItem("habits", JSON.stringify(habits));
  }

  function renderHabits() {
    myLists.innerHTML = "";
    habits.forEach((habit, index) => {
      const li = document.createElement("li");
      li.className =
        "flex justify-between bg-white px-2 rounded shadow w-[450px] text-left py-3 mt-3 relative";
      li.innerHTML = `
        <span>
          <input type="checkbox" class="checklist" ${habit.completed ? "checked" : ""}>
          <span class="taskText ${habit.completed ? 'line-through text-gray-400' : ''}">${habit.text}</span>
          <button class="deleteBtn text-red-600 absolute right-[2%]">❌</button>
        </span>
      `;

      const checkbox = li.querySelector(".checklist");
      const taskText = li.querySelector(".taskText");
      const deleteBtn = li.querySelector(".deleteBtn");

      checkbox.addEventListener("change", () => {
        habit.completed = checkbox.checked;
        if (habit.completed) {
          taskText.classList.add("line-through", "text-gray-400");
        } else {
          taskText.classList.remove("line-through", "text-gray-400");
        }
        saveHabits();
      });
      deleteBtn.addEventListener("click", () => {
        habits.splice(index, 1);
        saveHabits();
        renderHabits();
      });
      myLists.appendChild(li);
    });
  }
  addHabit.addEventListener("click", () => {
    const task = GetTasks.value.trim();
    if (task === "") return;
    habits.push({ text: task, completed: false });
    saveHabits();
    renderHabits();
    GetTasks.value = "";
  });
  renderHabits();
</script>
</body>
</html>